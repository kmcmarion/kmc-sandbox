@inherits Umbraco.Web.Mvc.UmbracoViewPage

@{
    var rootItem = Model.Ancestor("home");
    var root = (Home)rootItem;
}

<section>
    <h2 class="text-extrabold"><span class="black-text">Entire</span> <span class="text-orange">Customized Floors</span></h2>
    <div class="orange-divider-2px"></div>
    <div class="spacer-sm"></div>
    <div class="row">
        @{
            int count = 0;


            foreach (var item in root.Children)
            {
                if (item.IsDocumentType("cityItems"))
                {
                    foreach (var building in item.Children)
                    {
                        if (building.IsDocumentType("buildings"))
                        {
                            var featured = (Buildings)building;

                            if (featured.AppearOnPage.Contains("Entire Customized Floor"))
                            {
                                if (count >= 3)
                                {
                                    break;
                                }

                                else
                                {
                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12 my-2 d-flex align-items-stretch">
                                        <div class="card-effect">
                                            <div class="card shadow mb-3 bg-white rounded">
                                                <a href="@featured.Url">
                                                    <img class="card-img-top img-fluid"
                                                            style="max-width:100%; max-height: 175px; object-fit: cover"
                                                            data-src="@featured.FeaturedPhoto.Url"
                                                            alt="@featured.FeaturedPhoto.Name">
                                                </a>                                                    
                                                <div class="card-body d-flex flex-column mt-auto">
                                                    <h4 class="card-title text-semibold">
                                                        <a href="@featured.Url">@featured.FeaturedBuildingName</a>
                                                    </h4>
                                                    <h5>
                                                        <i class="fa fa-map-marker-alt" aria-hidden="true"></i>&nbsp;
                                                        @featured.FeaturedBuildingCity
                                                    </h5>
                                                    <div class="card-text text-limit">@Html.Raw(featured.FeaturedDescription)</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    count++;
                                }
                            }
                        }
                    }
                }
            }
        }
    </div>
</section>