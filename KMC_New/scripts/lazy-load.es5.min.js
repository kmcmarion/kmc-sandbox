"use strict";function preloadImage(n){var t=n.getAttribute("data-src");t&&(n.src=t)}function preloadBgImage(n){var t=n.getAttribute("data-background");t&&(n.background=t)}var images=document.querySelectorAll("[data-src]"),bgImages=document.querySelectorAll("[data-background]"),imgOptions={threshold:0,opacity:0},imgObserver=new IntersectionObserver(function(n,t){n.forEach(function(n){if(n.isIntersecting)preloadImage(n.target),preloadBgImage(n.target),t.unobserve(n.target),console.log("optimized");else return})},imgOptions);images.forEach(function(n){imgObserver.observe(n)});bgImages.forEach(function(n){imgObserver.observe(n)});